<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/semantic.min.css"
          type="text/css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/railscasts.min.css"
          rel="stylesheet"/>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/jquery.address/1.6/jquery.address.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/semantic.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/java.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/kotlin.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <style>
      

body {
  font-family: "Open Sans", "Helvetica", "Helvetica Neue",  "Arial", sans-serif;
  font-size:90%;
  color: black;
}

p {
  margin: 0.5em;
}

pre code {
  font-family: "Monaco";
  font-size: 100%;
}

img {
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
  margin:10px;
}

h1, h2, h3 {
  border-bottom:thin solid black;
  margin-bottom: 0.5em;
  margin-top: 1em;
}

h1 {
  font-style:italic;
  font-size:130%;
}

h2 {
  font-size:110%;
}

h3 {
  font-size:100%;
}



      

html, body {
  height: 100%;
  margin: 0;
}
.wrapper {
  height: 100%;
  display: flex;
  flex-direction: column;
}
.footer {
  background: white;
  text-align: right;
}
.content {
  flex: 1;
  overflow: auto;
}



    </style>
  </head>

  
  

  <div class="ui fixed top pointing inverted stackable menu labmenu">
    <header class="header item">
      <i id="toc" class="sitemap icon"></i>
      
        <a href="../../index.html"> Templating  </a>
      
    </header>
    <div class="right tab-menu menu">
      
        <a class="item" data-tab="Lab-05b Templates">
          Lab-05b Templates
        </a>
      
        <a class="item" data-tab="01">
          01
        </a>
      
        <a class="item" data-tab="02">
          02
        </a>
      
        <a class="item" data-tab="03">
          03
        </a>
      
        <a class="item" data-tab="04">
          04
        </a>
      
        <a class="item" data-tab="05">
          05
        </a>
      
        <a class="item" data-tab="06">
          06
        </a>
      
        <a class="item" data-tab="07">
          07
        </a>
      
        <a class="item" data-tab="Exercises">
          Exercises
        </a>
      
    </div>
  </div>


  

  <div class="ui pushable">
    <div class="ui inverted labeled icon left inline vertical sidebar menu">
      <br><br>
      
        
          
            <a class="item"
               href="http://wit-hdip-comp-sci-2019.github.io/web-development//topic-00-overview/unit-a-course-review/book-a/index.html">Lab-00 Editing HTML </a>
          
        
      
        
          
            <a class="item"
               href="http://wit-hdip-comp-sci-2019.github.io/web-development//topic-01-introducing-html/unit/book-b/index.html">Lab-01 HTML Structure </a>
          
        
      
        
          
            <a class="item"
               href="http://wit-hdip-comp-sci-2019.github.io/web-development//topic-02-introducing-css/unit-b/book/index.html">Lab-02 CSS Intro </a>
          
        
      
        
          
            <a class="item"
               href="http://wit-hdip-comp-sci-2019.github.io/web-development//topic-03-box-model/unit-a/book-a/index.html">Lab-03a Layout </a>
          
        
      
        
          
            <a class="item"
               href="http://wit-hdip-comp-sci-2019.github.io/web-development//topic-03-box-model/unit-b/book-b/index.html">Lab-03b Multicolumn </a>
          
        
      
        
          
            <a class="item"
               href="http://wit-hdip-comp-sci-2019.github.io/web-development//topic-04-navigation/unit-a/book/index.html">Lab-04 Navigation </a>
          
        
      
        
          
            <a class="item"
               href="http://wit-hdip-comp-sci-2019.github.io/web-development//topic-05-templating/unit-a/book-01-deployment/index.html">Lab-05a Harp & Surge </a>
          
        
      
        
          
            <a class="item"
               href="http://wit-hdip-comp-sci-2019.github.io/web-development//topic-05-templating/unit-b/book-templates/index.html">Lab-05b Templates </a>
          
        
      
        
          
            <a class="item"
               href="http://wit-hdip-comp-sci-2019.github.io/web-development//topic-06-css-frameworks/unit-a/book-nav-2/index.html">Lab-06a Nav Params </a>
          
        
      
        
          
            <a class="item"
               href="http://wit-hdip-comp-sci-2019.github.io/web-development//topic-06-css-frameworks/unit-b/book-semantic-ui/index.html">Lab-06b Semantic-UI </a>
          
        
      
        
          
            <a class="item"
               href="http://wit-hdip-comp-sci-2019.github.io/web-development//topic-07-starting-play/unit-1/book-b-setup-play/index.html">Lab-07a Play Setup </a>
          
        
      
        
          
            <a class="item"
               href="http://wit-hdip-comp-sci-2019.github.io/web-development//topic-07-starting-play/unit-2/book-c-playlist-1/index.html">Lab-07b Playlist 1 </a>
          
        
      
        
          
            <a class="item"
               href="http://wit-hdip-comp-sci-2019.github.io/web-development//topic-08-introducing-mvc/unit-1/book-a-playlist-2/index.html">Lab-08a Playlist-2 </a>
          
        
      
        
          
            <a class="item"
               href="http://wit-hdip-comp-sci-2019.github.io/web-development//topic-08-introducing-mvc/unit-2/book-b-playlist-3/index.html">Lab-08b Playlist-3 </a>
          
        
      
        
          
            <a class="item"
               href="http://wit-hdip-comp-sci-2019.github.io/web-development//topic-09-forms/unit-1/book-a-todolist/index.html">Lab-09a Todolist-1 </a>
          
        
      
        
          
            <a class="item"
               href="http://wit-hdip-comp-sci-2019.github.io/web-development//topic-09-forms/unit-2/book-b-playlist-4/index.html">Lab-09b Playlist-4 </a>
          
        
      
    </div>
    <div class="pusher" tabindex="-1">
      <div class="ui basic segment">
        <br>
        
          <div class="ui tab segment lab" data-tab="Lab-05b Templates">
            <h1>Objectives</h1>
<p>Refactor the bundle-store site to use EJS templates</p>

          </div>
        
          <div class="ui tab segment lab" data-tab="01">
            <h1>Setup</h1>
<p>This is an extended version of the Bundle Store site from lab 03:</p>
<ul>
<li><a href="https://wit-hdip-comp-sci-2019.github.io/bundle-store/index.html">https://wit-hdip-comp-sci-2019.github.io/bundle-store/index.html</a></li>
</ul>
<p>Explore the site for few moments. </p>
<p>The site incorporates the navigation mechanism we devised in Lab 04. Here is th full source:</p>
<ul>
<li><a href="https://github.com/wit-hdip-comp-sci-2019/bundle-store/releases/tag/lab.05.end">https://github.com/wit-hdip-comp-sci-2019/bundle-store/releases/tag/lab.05.end</a></li>
</ul>
<p>Download, unzip and have a close look at the sources.</p>
<p>This is how the project is structured:</p>
<pre><code>├── apps.html
├── css
│   ├── grid.css
│   ├── home.css
│   ├── image.css
│   └── nav.css
├── directions.html
├── images
│   ├── background.gif
│   ├── banner.png
│   ├── business.png
│   ├── insanity.jpg
│   ├── ondesoft.jpg
│   └── ultimate.jpeg
└── index.html</code></pre>
<p>Have a close look at each of the style sheets first. They embody all of the css techniques we have covered to date.</p>
<p>Inspect each of the html files - become familiar with how each page is now structured. In particular, note the divisions:</p>
<p><img src="img/01.png" alt=""></p>
<p>This structure is laid out via the grid style sheet:</p>
<h2>grid.css</h2>
<pre><code>.container {
  display: grid;
  grid-template-columns: 5% 88% 5%;
  grid-gap: 1%;
}

#header {
  grid-column-start: 2;
  grid-column-end: span 2;
  text-align: center;
}

#navigation {
  grid-column-start: 2;
  text-align: center;
  border-bottom: 1px solid black;
}

#maincontent {
  grid-column-start: 2;
  display: grid;
  grid-template-columns: 70% 27%;
  grid-gap: 3%;
}

#primary {
  grid-column-start: 1;
}

#secondary {
  grid-column-start: 2;
}

#footer {
  grid-column-start: 2;
}</code></pre>
<p>The navigation mechanism:</p>
<p><img src="img/02.png" alt=""></p>
<p>is adapted from the previous navigation lab:</p>
<h2>nav.css</h2>
<pre><code>ul#menu li {
  display: inline;
  padding-right: 1em;
  padding-left: 1em;
}

ul#menu a {
  text-decoration: none;
}

#menu li.active a {
  background: #007e7e;
  padding: .5em 2em .5em 2em;
  color: white;
}</code></pre>

          </div>
        
          <div class="ui tab segment lab" data-tab="02">
            <h1>New Project</h1>
<p>Create a new folder for this weeks lab called <code>lab-05b</code>. Taking the archive you have downloaded in the last step expand it in here. Your project should look exactly like this:</p>
<pre><code>└── lab-05b
    └── bundle-store
        ├── apps.html
        ├── css
        │   ├── grid.css
        │   ├── home.css
        │   ├── image.css
        │   └── nav.css
        ├── directions.html
        ├── images
        │   ├── background.gif
        │   ├── banner.png
        │   ├── business.png
        │   ├── insanity.jpg
        │   ├── ondesoft.jpg
        │   └── ultimate.jpeg
        └── index.html</code></pre>
<p>Now make the following changes to this structure:</p>
<pre><code>── lab-05b
    └── bundle-store-ejs
        ├── harp.json
        └── public
            ├── apps.html
            ├── css
            │   ├── grid.css
            │   ├── home.css
            │   ├── image.css
            │   └── nav.css
            ├── directions.html
            ├── images
            │   ├── background.gif
            │   ├── banner.png
            │   ├── business.png
            │   ├── insanity.jpg
            │   ├── ondesoft.jpg
            │   └── ultimate.jpeg
            └── index.html</code></pre>
<p>In the above we have </p>
<ul>
<li>renamed the project folder to &#39;bundle-store-ejs&#39;</li>
<li>created a new &#39;public&#39; folder, with all the content moved in here</li>
<li>added a new &#39;harp.json&#39; file.</li>
</ul>
<p>This is the contents of the &#39;harp.json&#39; file:</p>
<h2>harp.json</h2>
<pre><code>{
  &quot;globals&quot;:
  {

  }
}</code></pre>
<p>We will now be &#39;serving&#39; the web site via the <code>harp</code> web server we have just installed in the last lab. Open a command prompt and navigate to the project folder:</p>
<pre><code>C:\dev\web-development\lab0-5b\bundle-store-ejs&gt;harp server
------------
Harp v0.29.0 – Chloi Inc. 2012–2015
Your server is listening at http://localhost:9000/
Press Ctl+C to stop the server
---</code></pre>
<p>The site is now deployed at </p>
<ul>
<li><a href="http://localhost:9000/">http://localhost:9000/</a></li>
</ul>
<p>The changes we are about to make in this lab will mean that this is the only procedure for viewing our site.</p>
<p>To stop the server, enter Ctrl-C:</p>
<pre><code>------------
Harp v0.29.0 – Chloi Inc. 2012–2015
Your server is listening at http://localhost:9000/
Press Ctl+C to stop the server
------------
^C</code></pre>
<p>You may need stop and start the server periodically.</p>

          </div>
        
          <div class="ui tab segment lab" data-tab="03">
            <h1>Ejs Partials</h1>
<p>Rename each of the html files, removing &#39;.html&#39; and replacing this with <code>.ejs</code>:</p>
<pre><code>├── harp.json
└── public
    ├── apps.ejs
    ├── css
    │   ├── grid.css
    │   ├── home.css
    │   ├── image.css
    │   └── nav.css
    ├── directions.ejs
    ├── images
    │   ├── background.gif
    │   ├── banner.png
    │   ├── business.png
    │   ├── insanity.jpg
    │   ├── ondesoft.jpg
    │   └── ultimate.jpeg
    └── index.ejs</code></pre>
<p>Run the server again:</p>
<pre><code>C:\dev\web-development\lab0-5b\bundle-store-ejs&gt;harp server
------------
Harp v0.29.0 – Chloi Inc. 2012–2015
Your server is listening at http://localhost:9000/
Press Ctl+C to stop the server
---</code></pre>
<p>The site should still work exactly the same as before:</p>
<ul>
<li><a href="http://localhost:9000/">http://localhost:9000/</a></li>
</ul>
<p>Create a new folder in the project called <code>partials</code>, and create 2 new files in here:</p>
<h2><code>_header.ejs</code></h2>
<pre><code>&lt;div id=&quot;header&quot;&gt;
  &lt;h1&gt;Welcome to the App Bundle Store&lt;/h1&gt;
&lt;/div&gt;</code></pre>
<h2><code>_footer.ejs</code></h2>
<pre><code>&lt;div id=&quot;footer&quot;&gt;
  &lt;p&gt; Contact us at : bundle@store.com, or visit us: &lt;a href=&quot;directions.html&quot;&gt; directions &lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;</code></pre>
<p>The project structure now looks like this:</p>
<pre><code>├── harp.json
└── public
    ├── apps.ejs
    ├── css
    │   ├── grid.css
    │   ├── home.css
    │   ├── image.css
    │   └── nav.css
    ├── directions.ejs
    ├── images
    │   ├── background.gif
    │   ├── banner.png
    │   ├── business.png
    │   ├── insanity.jpg
    │   ├── ondesoft.jpg
    │   └── ultimate.jpeg
    ├── index.ejs
    └── partials
        ├── _footer.ejs
        └── _header.ejs</code></pre>
<p>Now edit each of the apps, index and directions files - replacing the header + footer in each of those files with these statements:</p>
<pre><code>  ...
      &lt;%- include(&#39;./partials/_header.ejs&#39;); %&gt;
  ...
      &lt;%- include(&#39;./partials/_footer.ejs&#39;); %&gt;
  ...</code></pre>
<p>So, for instance the directions.ejs file will now look like this:</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;Bundle APP Store&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;./css/home.css&quot;&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;img src=&quot;images/banner.png&quot; class=&quot;large-centre-img&quot;&gt;
    &lt;div class=&quot;container&quot;&gt;
      &lt;%- include(&#39;./partials/_header.ejs&#39;); %&gt;
      &lt;div id=&quot;navigation&quot;&gt;
        &lt;ul id=&quot;menu&quot;&gt;
          &lt;li&gt;&lt;a href=&quot;index.html&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;apps.html&quot;&gt;Apps&lt;/a&gt;&lt;/li&gt;
          &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;directions.html&quot;&gt;Directions&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
      &lt;div id=&quot;maincontent&quot;&gt;
        &lt;div id=&quot;primary&quot;&gt;
          &lt;h1&gt;Directions&lt;/h1&gt;
          &lt;h2&gt;Our store is located :&lt;/h2&gt;
          &lt;p&gt;
            Take the M9 / N9 towards Waterford. At the first roundabout on approach to Waterford,
            take the first exit (signposted Waterford / Cork / Rosslare). At the next roundabout,
            take the third exit (signposted N25 / Cork / Waterford South). Proceed through the toll
            bridge (toll is €1.90 per car). Take the exit directly after the toll bridge (signposted
            Waterford South/R710). &lt;/p&gt;
          &lt;p&gt;
            At the top of the off-ramp, go left at the small roundabout, then straight through two
            larger roundabouts (signposted R710/City Centre/Tramore). At the next roundabout (
            retail park on your left), take the first exit (signposted City Centre). Proceed down
            the Cork Road for approx 2km and the main entrance to WIT’s main campus is on the left.
            The College Street Campus is a further 2km towards the city centre on the left. &lt;/p&gt;
          &lt;hr&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;%- include(&#39;./partials/_footer.ejs&#39;); %&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>Make sure you have made this change to all files - and now browse to the site:</p>
<ul>
<li><a href="http://localhost:9000/">http://localhost:9000/</a></li>
</ul>
<p>Even though we are starting to radically alter the structure of the site, the site is still served exactly as it was before.</p>
<p>This is the power of templates, we can start to break up a site into reusable parts (partials) and have the site dynamically assembled by the server.</p>

          </div>
        
          <div class="ui tab segment lab" data-tab="04">
            <h1>Ejs Layouts</h1>
<p>Create a new file in the project:</p>
<h2><code>_layout.ejs</code></h2>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;Bundle APP Store&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;./css/home.css&quot;&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;img src=&quot;images/banner.png&quot; class=&quot;large-centre-img&quot;&gt;
    &lt;div class=&quot;container&quot;&gt;
      &lt;%- yield %&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>This is a master file, which all pages in the project will be based on. Pay close attention to this section:</p>
<pre><code>  ...
    &lt;div class=&quot;container&quot;&gt;
      &lt;%- yield %&gt;
    &lt;/div&gt;
  ...</code></pre>
<p>Each page will be based on this structure - which means the pages can be significantly simplified:</p>
<h2>index.ejs</h2>
<pre><code>&lt;%- include(&#39;./partials/_header.ejs&#39;); %&gt;
&lt;div id=&quot;navigation&quot;&gt;
  &lt;ul id=&quot;menu&quot;&gt;
    &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;index.html&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;apps.html&quot;&gt;Apps&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;directions.html&quot;&gt;Directions&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&quot;maincontent&quot;&gt;
  &lt;div id=&quot;primary&quot;&gt;
    &lt;p&gt;
      This store brings you &lt;em&gt; great app bundles &lt;/em&gt; week after week. We select the best power user apps from a
      broad range of suppliers and combine them into great deals. These are the highest quality apps from the best
      publishers, at great prices. &lt;/p&gt;
    &lt;p&gt;
      Whether you are interested in gaming or graphics design, software development or media production - we have the
      bundle for you. Each &lt;a href=&quot;apps.html&quot;&gt;app bundle&lt;/a&gt; is designed to compliment the others, delivering you an
      exciting take on a scene. &lt;/p&gt;
    &lt;p class=&quot;guarantee&quot;&gt;
      Our guarantee: at the store, we&#39;re committed to providing you, with an exceptional quality and reliability. Every
      application is checked in detail for stability, usability and inter-interoperability. If you are unhappy with any
      individual app in a bundle we will refund you the full amount for the complete suite, no questions asked. &lt;/p&gt;
    &lt;h2&gt;Favourites&lt;/h2&gt;
    &lt;p&gt; These are some of our favourites &lt;/p&gt;
    &lt;ul class=&quot;highlight&quot;&gt;
      &lt;li&gt;Hype by Tumult&lt;/li&gt;
      &lt;li&gt;Webstorm by Idea&lt;/li&gt;
      &lt;li&gt;Sublime, by sublimetext.com&lt;/li&gt;
      &lt;li&gt;Desktop Utility by Sweet Productions&lt;/li&gt;
    &lt;/ul&gt;
    &lt;h2&gt;Favourites&lt;/h2&gt;
    &lt;p&gt; We will be reviewing these favourites in the coming weeks, so please check in again to find out why these are
      our favourite apps.&lt;/p&gt;
    &lt;p&gt; Why not come in and walk aroud the store? Directions are included below. &lt;/p&gt;
  &lt;/div&gt;
  &lt;div id=&quot;secondary&quot;&gt;
    &lt;h1&gt;Weekly Deals&lt;/h1&gt;
    &lt;h2 class=&quot;special&quot;&gt;Business Bundle&lt;/h2&gt;
    &lt;p&gt;
      &lt;img src=&quot;images/business.png&quot; alt=&quot;Business Bundle&quot; class=&quot;medium-right-img&quot;&gt; Here comes the next bundle for
      march. This time it&#39;s macware who publish a bundle. The so called macware Business Bundle contains 6 apps at a
      price of only €29.99 instead of €199.94. So you can save around 84%. &lt;/p&gt;
    &lt;h2 class=&quot;special&quot;&gt;Insanity Deal&lt;/h2&gt;
    &lt;p&gt;
      &lt;img src=&quot;images/insanity.jpg&quot; alt=&quot;Insanity Deal&quot; class=&quot;medium-left-img&quot;&gt; With the new €5 Insanity Deals from
      Bundlehunt you receive every day a highly reduced app for €5 only with savings up to 75%. Not a real bundle but,
      as there are multiple apps for only €5 each, one new per day, for the days to come. &lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;%- include(&#39;./partials/_footer.ejs&#39;); %&gt;</code></pre>
<h2>apps.ejs</h2>
<pre><code>&lt;%- include(&#39;./partials/_header.ejs&#39;); %&gt;
&lt;div id=&quot;navigation&quot;&gt;
  &lt;ul id=&quot;menu&quot;&gt;
    &lt;li&gt;&lt;a href=&quot;index.html&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
    &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;apps.html&quot;&gt;Apps&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;directions.html&quot;&gt;Directions&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&quot;maincontent&quot;&gt;
  &lt;div id=&quot;primary&quot;&gt;
    &lt;h1&gt;App Bundles&lt;/h1&gt;
    &lt;h3&gt;Freebie&lt;/h3&gt;
    &lt;p&gt;
      &lt;img src=&quot;images/ondesoft.jpg&quot; alt=&quot;One Soft&quot; class=&quot;medium-right-img&quot;&gt; Stacksocial just published its so called
      Free Ondesoft Mac Tool Bundle, which contains 5 apps from Onesoft. The bundle is worth $146 will be probably
      available only a couple of days so you’d better hurry up to get it. &lt;/p&gt;
    &lt;hr&gt;
    &lt;h3&gt;Macware Business Bundle&lt;/h3&gt;
    &lt;p&gt;
      Here comes the next bundle for march. This time its macware who publish a bundle. The so called macware Business
      Bundle contains 6 apps at a price of only €29.99 instead of €199.94. So you can save around 84%. &lt;/p&gt;
    &lt;hr&gt;
    &lt;h3&gt;Ultimate Bundle&lt;/h3&gt;
    &lt;p&gt;
      &lt;img src=&quot;images/ultimate.jpeg&quot; alt=&quot;One Soft&quot; class=&quot;medium-left-img&quot;&gt; This bundle is worth more than €400. So
      for just a little bit more than $10, you can make your bargain if you want just one of these apps. of dollars. We
      think, that the bundle will be online until the mid of October &lt;/p&gt;
    &lt;hr&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;%- include(&#39;./partials/_footer.ejs&#39;); %&gt;</code></pre>
<h2>directions.ejs</h2>
<pre><code>&lt;%- include(&#39;./partials/_header.ejs&#39;); %&gt;
&lt;div id=&quot;navigation&quot;&gt;
  &lt;ul id=&quot;menu&quot;&gt;
    &lt;li&gt;&lt;a href=&quot;index.html&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;apps.html&quot;&gt;Apps&lt;/a&gt;&lt;/li&gt;
    &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;directions.html&quot;&gt;Directions&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&quot;maincontent&quot;&gt;
  &lt;div id=&quot;primary&quot;&gt;
    &lt;h1&gt;Directions&lt;/h1&gt;
    &lt;h2&gt;Our store is located :&lt;/h2&gt;
    &lt;p&gt;
      Take the M9 / N9 towards Waterford. At the first roundabout on approach to Waterford, take the first exit
      (signposted Waterford / Cork / Rosslare). At the next roundabout, take the third exit (signposted N25 / Cork /
      Waterford South). Proceed through the toll bridge (toll is €1.90 per car). Take the exit directly after the toll
      bridge (signposted Waterford South/R710). &lt;/p&gt;
    &lt;p&gt;
      At the top of the off-ramp, go left at the small roundabout, then straight through two larger roundabouts
      (signposted R710/City Centre/Tramore). At the next roundabout ( retail park on your left), take the first exit
      (signposted City Centre). Proceed down the Cork Road for approx 2km and the main entrance to WIT’s main campus is
      on the left. The College Street Campus is a further 2km towards the city centre on the left. &lt;/p&gt;
    &lt;hr&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;%- include(&#39;./partials/_footer.ejs&#39;); %&gt;</code></pre>
<p>In all of the above, notice how we no longer have an <code>&lt;head&gt;</code> section in any page, as it is part of the layout. Also, the body section and the container wrapper.</p>
<p>Make sure the site continues to work as expected.</p>

          </div>
        
          <div class="ui tab segment lab" data-tab="05">
            <h1>Layout Adjustments</h1>
<p>This is our current layout:</p>
<h2><code>_layout.ejs</code></h2>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;Bundle APP Store&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;./css/home.css&quot;&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;img src=&quot;images/banner.png&quot; class=&quot;large-centre-img&quot;&gt;
    &lt;div class=&quot;container&quot;&gt;
      &lt;%- yield %&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>We can revise it now to include the header/footer:</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;Bundle APP Store&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;./css/home.css&quot;&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;img src=&quot;images/banner.png&quot; class=&quot;large-centre-img&quot;&gt;
    &lt;div class=&quot;container&quot;&gt;
      &lt;%- include(&#39;./partials/_header.ejs&#39;); %&gt;
      &lt;%- yield %&gt;
      &lt;%- include(&#39;./partials/_footer.ejs&#39;); %&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>This means we can delete the header/footer include from all of the pages.</p>
<p>Do this now, and verify that the site is still appearing correctly.</p>

          </div>
        
          <div class="ui tab segment lab" data-tab="06">
            <h1>Secondary</h1>
<p>In the partials folder, create the following new file:</p>
<h2><code>_secondary.ejs</code></h2>
<pre><code>&lt;div id=&quot;secondary&quot;&gt;
  &lt;h1&gt;Weekly Deals&lt;/h1&gt;
  &lt;h2 class=&quot;special&quot;&gt;Business Bundle&lt;/h2&gt;
  &lt;p&gt;
    &lt;img src=&quot;images/business.png&quot; alt=&quot;Business Bundle&quot; class=&quot;medium-right-img&quot;&gt; Here comes the next bundle for march.
    This time it&#39;s macware who publish a bundle. The so called macware Business Bundle contains 6 apps at a price of
    only €29.99 instead of €199.94. So you can save around 84%. &lt;/p&gt;
  &lt;h2 class=&quot;special&quot;&gt;Insanity Deal&lt;/h2&gt;
  &lt;p&gt;
    &lt;img src=&quot;images/insanity.jpg&quot; alt=&quot;Insanity Deal&quot; class=&quot;medium-left-img&quot;&gt; With the new €5 Insanity Deals from
    Bundlehunt you receive every day a highly reduced app for €5 only with savings up to 75%. Not a real bundle but, as
    there are multiple apps for only €5 each, one new per day, for the days to come. &lt;/p&gt;
&lt;/div&gt;</code></pre>
<p>The project looks like this now:</p>
<pre><code>├── harp.json
└── public
    ├── _layout.ejs
    ├── apps.ejs
    ├── css
    │   ├── grid.css
    │   ├── home.css
    │   ├── image.css
    │   └── nav.css
    ├── directions.ejs
    ├── images
    │   ├── background.gif
    │   ├── banner.png
    │   ├── business.png
    │   ├── insanity.jpg
    │   ├── ondesoft.jpg
    │   └── ultimate.jpeg
    ├── index.ejs
    └── partials
        ├── _footer.ejs
        ├── _header.ejs
        └── _secondary.ejs</code></pre>
<p>Edit index.html, and replace the secondary section with an include of this new file:</p>
<h2>index.html</h2>
<pre><code>&lt;div id=&quot;navigation&quot;&gt;
  &lt;ul id=&quot;menu&quot;&gt;
    &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;index.html&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;apps.html&quot;&gt;Apps&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;directions.html&quot;&gt;Directions&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&quot;maincontent&quot;&gt;
  &lt;div id=&quot;primary&quot;&gt;
    &lt;p&gt;
      This store brings you &lt;em&gt; great app bundles &lt;/em&gt; week after week. We select the best power user apps from a
      broad range of suppliers and combine them into great deals. These are the highest quality apps from the best
      publishers, at great prices. &lt;/p&gt;
    &lt;p&gt;
      Whether you are interested in gaming or graphics design, software development or media production - we have the
      bundle for you. Each &lt;a href=&quot;apps.html&quot;&gt;app bundle&lt;/a&gt; is designed to compliment the others, delivering you an
      exciting take on a scene. &lt;/p&gt;
    &lt;p class=&quot;guarantee&quot;&gt;
      Our guarantee: at the store, we&#39;re committed to providing you, with an exceptional quality and reliability. Every
      application is checked in detail for stability, usability and inter-interoperability. If you are unhappy with any
      individual app in a bundle we will refund you the full amount for the complete suite, no questions asked. &lt;/p&gt;
    &lt;h2&gt;Favourites&lt;/h2&gt;
    &lt;p&gt; These are some of our favourites &lt;/p&gt;
    &lt;ul class=&quot;highlight&quot;&gt;
      &lt;li&gt;Hype by Tumult&lt;/li&gt;
      &lt;li&gt;Webstorm by Idea&lt;/li&gt;
      &lt;li&gt;Sublime, by sublimetext.com&lt;/li&gt;
      &lt;li&gt;Desktop Utility by Sweet Productions&lt;/li&gt;
    &lt;/ul&gt;
    &lt;h2&gt;Favourites&lt;/h2&gt;
    &lt;p&gt; We will be reviewing these favourites in the coming weeks, so please check in again to find out why these are
      our favourite apps.&lt;/p&gt;
    &lt;p&gt; Why not come in and walk aroud the store? Directions are included below. &lt;/p&gt;
  &lt;/div&gt;
  &lt;%- include(&#39;./partials/_secondary.ejs&#39;); %&gt;
&lt;/div&gt;</code></pre>
<p>Again, check the site - there should be no change.</p>

          </div>
        
          <div class="ui tab segment lab" data-tab="07">
            <h1>Sharing Partials</h1>
<p>Have a look at this version of the site:</p>
<ul>
<li><a href="https://wit-hdip-comp-sci-2019.github.io/bundle-store-ejs/www/index.html">https://wit-hdip-comp-sci-2019.github.io/bundle-store-ejs/www/index.html</a></li>
</ul>
<p>In particular, notice how the &#39;Weekly Deals&#39; is present in all three pages.</p>
<p>If we were not using partials, then we would have had to copy/paste this section into each page. With the template infrastructure in place, this becomes a trivial change:</p>
<h2>apps.html</h2>
<pre><code>&lt;div id=&quot;navigation&quot;&gt;
  &lt;ul id=&quot;menu&quot;&gt;
    &lt;li&gt;&lt;a href=&quot;index.html&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
    &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;apps.html&quot;&gt;Apps&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;directions.html&quot;&gt;Directions&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&quot;maincontent&quot;&gt;
  &lt;div id=&quot;primary&quot;&gt;
    &lt;h1&gt;App Bundles&lt;/h1&gt;
    &lt;h3&gt;Freebie&lt;/h3&gt;
    &lt;p&gt;
      &lt;img src=&quot;images/ondesoft.jpg&quot; alt=&quot;One Soft&quot; class=&quot;medium-right-img&quot;&gt; Stacksocial just published its so called
      Free Ondesoft Mac Tool Bundle, which contains 5 apps from Onesoft. The bundle is worth $146 will be probably
      available only a couple of days so you’d better hurry up to get it. &lt;/p&gt;
    &lt;hr&gt;
    &lt;h3&gt;Macware Business Bundle&lt;/h3&gt;
    &lt;p&gt;
      Here comes the next bundle for march. This time its macware who publish a bundle. The so called macware Business
      Bundle contains 6 apps at a price of only €29.99 instead of €199.94. So you can save around 84%. &lt;/p&gt;
    &lt;hr&gt;
    &lt;h3&gt;Ultimate Bundle&lt;/h3&gt;
    &lt;p&gt;
      &lt;img src=&quot;images/ultimate.jpeg&quot; alt=&quot;One Soft&quot; class=&quot;medium-left-img&quot;&gt; This bundle is worth more than €400. So
      for just a little bit more than $10, you can make your bargain if you want just one of these apps. of dollars. We
      think, that the bundle will be online until the mid of October &lt;/p&gt;
    &lt;hr&gt;
  &lt;/div&gt;
  &lt;%- include(&#39;./partials/_secondary.ejs&#39;); %&gt;
&lt;/div&gt;</code></pre>
<h2>directions.html</h2>
<pre><code>&lt;div id=&quot;navigation&quot;&gt;
  &lt;ul id=&quot;menu&quot;&gt;
    &lt;li&gt;&lt;a href=&quot;index.html&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;apps.html&quot;&gt;Apps&lt;/a&gt;&lt;/li&gt;
    &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;directions.html&quot;&gt;Directions&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&quot;maincontent&quot;&gt;
  &lt;div id=&quot;primary&quot;&gt;
    &lt;h1&gt;Directions&lt;/h1&gt;
    &lt;h2&gt;Our store is located :&lt;/h2&gt;
    &lt;p&gt;
      Take the M9 / N9 towards Waterford. At the first roundabout on approach to Waterford, take the first exit
      (signposted Waterford / Cork / Rosslare). At the next roundabout, take the third exit (signposted N25 / Cork /
      Waterford South). Proceed through the toll bridge (toll is €1.90 per car). Take the exit directly after the toll
      bridge (signposted Waterford South/R710). &lt;/p&gt;
    &lt;p&gt;
      At the top of the off-ramp, go left at the small roundabout, then straight through two larger roundabouts
      (signposted R710/City Centre/Tramore). At the next roundabout ( retail park on your left), take the first exit
      (signposted City Centre). Proceed down the Cork Road for approx 2km and the main entrance to WIT’s main campus is
      on the left. The College Street Campus is a further 2km towards the city centre on the left. &lt;/p&gt;
    &lt;hr&gt;
  &lt;/div&gt;
  &lt;%- include(&#39;./partials/_secondary.ejs&#39;); %&gt;
&lt;/div&gt;</code></pre>
<p>Make these change now, and verify your site looks the same a this:</p>
<ul>
<li><a href="https://wit-hdip-comp-sci-2019.github.io/bundle-store-ejs/www/index.html">https://wit-hdip-comp-sci-2019.github.io/bundle-store-ejs/www/index.html</a></li>
</ul>

          </div>
        
          <div class="ui tab segment lab" data-tab="Exercises">
            <h1>Solution</h1>
<ul>
<li><a href="https://github.com/wit-hdip-comp-sci-2019/bundle-store-ejs/releases/tag/lab05.b.end">https://github.com/wit-hdip-comp-sci-2019/bundle-store-ejs/releases/tag/lab05.b.end</a></li>
</ul>
<h2>Exercise 1: Compile</h2>
<p>From within the project folder, enter the following command:</p>
<pre><code>harp compile</code></pre>
<p>Then, explore the contents of a newly generated folder called &#39;www&#39;.</p>
<ul>
<li>What is in this folder?</li>
<li>Why would we need it?</li>
</ul>
<h1>Exercise 2: Deploy the site</h1>
<p>Using lab05a as a guide, deploy this site using surge.</p>

          </div>
        
      </div>
    </div>
  </div>


  <br>
  <script>
    $(document).on('keydown', function(e) {
  e = e || window.event;
  var nextTab;
  switch (e.which || e.keyCode) {
    case 37: // left
      nextTab = $('.tab-menu a[data-tab].active').prev('a[data-tab]');
      if (!nextTab.length) nextTab = $('.tab-menu a[data-tab]').last();
      nextTab.click();
      $('.pusher').focus();
      break;

    case 39: // right
      nextTab = $('.tab-menu a[data-tab].active').next('a[data-tab]');
      if (!nextTab.length) nextTab = $('.tab-menu a[data-tab]').first();
      nextTab.click();
      $('.pusher').focus();
      break;
  }
});

    $(document).ready(function() {
  $('img').addClass('ui image');

  $('.ui.embed').embed();

  const $images = $('.lab img');
  jQuery.each($images, function(i) {
    if ($images[i].alt.length > 0) {
      const divImg = $(document.createElement('div')).addClass(
        'ui basic segment',
      );
      $($images[i]).wrap(divImg);
      const divLabel = $(document.createElement('div')).addClass(
        'ui blue ribbon label',
      );
      divLabel.append($images[i].alt);
      $(divLabel).insertBefore($images[i]);
    }
  });

  $('.ui.menu .item').tab({
    history: true,
    historyType: 'hash',
  });

  $('.popup').popup();

  $('.ui.sidebar')
    .sidebar({ context: $('.pushable') })
    .sidebar('setting', 'transition', 'slide out')
    .sidebar('attach events', '#toc');
});

  </script>



  <div class="ui bottom fixed borderless right menu">
    <div class="ui right small menu">
      <div class="ui tiny basic message segment">
         Powered by <a href="https://github.com/edeleastar/tutors-ts">tutors-ts.</a> Unless otherwise stated, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
      </div>
    </div>
  </div>

  </body>

</html>